{"filename":"DhlAppPage.ts","content":"import { Page, Locator, expect } from '@playwright/test';\n\n/**\n * Page Object Model for DHL App Page.\n * Provides reusable methods and validations for DHL Post & DHL app landing page.\n * \n * @author Test Automation Architect\n * @created 2025-11-11\n * @purpose Automate interactions and assertions for the DHL app informational page.\n */\nexport class DhlAppPage {\n  readonly page: Page;\n\n  // Locators\n\n  // Navigation Links\n  readonly privateCustomersLink: Locator;\n  readonly businessCustomerLink: Locator;\n  readonly loginLink: Locator;\n  readonly logoutLink: Locator;\n  readonly startSearchLink: Locator;\n\n  // Header\n  readonly headerContainer: Locator;\n\n  // Main Titles and Texts\n  readonly pageMainTitle: Locator;\n  readonly postDhlAppDescription: Locator;\n\n  // Call to Action button\n  readonly downloadNowButton: Locator;\n\n  // Feature sections with icons and teasers\n  readonly trackingSectionTitle: Locator;\n  readonly frankungSectionTitle: Locator;\n  readonly locationsSectionTitle: Locator;\n  readonly packstationSectionTitle: Locator;\n  readonly contactMoreSectionTitle: Locator;\n\n  // CTA buttons under teaser sections\n  readonly receiveAtPackstationButton: Locator;\n  readonly frankNowButton: Locator;\n  readonly registerForFreeButton: Locator;\n\n  // FAQ Accordion Headers\n  readonly faqAccordionHeaders: Locator;\n\n  // Footer navigation links\n  readonly footerPrivateCustomersLink: Locator;\n  readonly footerPricesLink: Locator;\n\n  /**\n   * Constructor to initialize locators\n   * @param {Page} page Playwright page object\n   */\n  constructor(page: Page) {\n    this.page = page;\n\n    // Navigation Links\n    this.privateCustomersLink = page.locator('a.secondary-navigation__link.secondary-navigation__link--active', { hasText: 'Private Customers' });\n    this.businessCustomerLink = page.locator('a.secondary-navigation__link', { hasText: 'Business Customer' });\n    this.loginLink = page.locator('a.primary-navigation__link.user-menu__button', { hasText: 'Login' });\n    this.logoutLink = page.locator('a.primary-navigation__link.user-menu__button', { hasText: 'Logout' });\n    this.startSearchLink = page.locator('a.primary-navigation__link.searchslot__link', { hasText: 'Start search' });\n\n    // Header container\n    this.headerContainer = page.locator('div.container.header-wrap');\n\n    // Main Titles and Texts\n    this.pageMainTitle = page.locator('h1.stage-item__title.text--inversive', { hasText: 'Post & DHL app' });\n    this.postDhlAppDescription = page.locator('div.stage-item__text.text--inversive', { hasText: 'Everything to do with sending and receiving letters and parcels in one app' });\n\n    // Call to Action button\n    this.downloadNowButton = page.locator('div.stage-item__cta.btn.btn--primary.btn--large', { hasText: 'Download now' });\n\n    // Feature sections titles\n    this.trackingSectionTitle = page.locator('h3.circle-icon__title', { hasText: 'Tracking' });\n    this.frankungSectionTitle = page.locator('h3.circle-icon__title', { hasText: 'Franking' });\n    this.locationsSectionTitle = page.locator('h3.circle-icon__title', { hasText: 'Locations' });\n    this.packstationSectionTitle = page.locator('h3.circle-icon__title', { hasText: 'Packstation' });\n    this.contactMoreSectionTitle = page.locator('h3.circle-icon__title', { hasText: 'Contact & More' });\n\n    // CTA buttons under teasers\n    this.receiveAtPackstationButton = page.locator('div.teaser__btn.btn.btn--ghost', { hasText: 'Receive at the Packstation' });\n    this.frankNowButton = page.locator('div.teaser__btn.btn.btn--ghost', { hasText: 'Frank now' });\n    this.registerForFreeButton = page.locator('div.teaser__btn.btn.btn--ghost', { hasText: 'Register for free' });\n\n    // FAQ Accordion Headers\n    this.faqAccordionHeaders = page.locator('a.accordion-item__header');\n\n    // Footer navigation links\n    this.footerPrivateCustomersLink = page.locator('footer a', { hasText: 'Private customers' });\n    this.footerPricesLink = page.locator('footer a', { hasText: 'Prices' });\n  }\n\n  // Navigation link methods\n\n  /**\n   * Clicks on Private Customers link in secondary navigation.\n   */\n  async clickPrivateCustomersLink() {\n    await this.privateCustomersLink.waitFor({ state: 'visible' });\n    await this.privateCustomersLink.click();\n  }\n\n  /**\n   * Verifies if Private Customers link is active.\n   * @returns {Promise<boolean>}\n   */\n  async isPrivateCustomersLinkActive(): Promise<boolean> {\n    return await this.privateCustomersLink.isVisible();\n  }\n\n  /**\n   * Clicks on Business Customer link in secondary navigation.\n   */\n  async clickBusinessCustomerLink() {\n    await this.businessCustomerLink.waitFor({ state: 'visible' });\n    await this.businessCustomerLink.click();\n  }\n\n  /**\n   * Clicks the Login link in primary navigation.\n   */\n  async clickLoginLink() {\n    await this.loginLink.waitFor({ state: 'visible' });\n    await this.loginLink.click();\n  }\n\n  /**\n   * Clicks the Logout link in primary navigation.\n   */\n  async clickLogoutLink() {\n    await this.logoutLink.waitFor({ state: 'visible' });\n    await this.logoutLink.click();\n  }\n\n  /**\n   * Clicks the Start Search link in primary navigation.\n   */\n  async clickStartSearchLink() {\n    await this.startSearchLink.waitFor({ state: 'visible' });\n    await this.startSearchLink.click();\n  }\n\n  // Header methods\n\n  /**\n   * Checks if header container is visible.\n   * @returns {Promise<boolean>}\n   */\n  async isHeaderVisible(): Promise<boolean> {\n    return await this.headerContainer.isVisible();\n  }\n\n  // Main Title and Description methods\n\n  /**\n   * Gets page main title text.\n   * @returns {Promise<string>}\n   */\n  async getPageMainTitleText(): Promise<string> {\n    await this.pageMainTitle.waitFor({ state: 'visible' });\n    return await this.pageMainTitle.textContent() ?? '';\n  }\n\n  /**\n   * Asserts the main title contains expected text.\n   * @param expectedText\n   */\n  async assertPageMainTitleContains(expectedText: string): Promise<void> {\n    await expect(this.pageMainTitle).toContainText(expectedText, { timeout: 5000 });\n  }\n\n  /**\n   * Gets the description text about the app.\n   * @returns {Promise<string>}\n   */\n  async getPostDhlAppDescription(): Promise<string> {\n    await this.postDhlAppDescription.waitFor({ state: 'visible' });\n    return await this.postDhlAppDescription.textContent() ?? '';\n  }\n\n  // CTA Button methods\n\n  /**\n   * Clicks the Download Now button.\n   */\n  async clickDownloadNowButton(): Promise<void> {\n    await this.downloadNowButton.waitFor({ state: 'visible' });\n    await this.downloadNowButton.click();\n  }\n\n  /**\n   * Checks if Download Now button is enabled.\n   * @returns {Promise<boolean>}\n   */\n  async isDownloadNowButtonEnabled(): Promise<boolean> {\n    return await this.downloadNowButton.isEnabled();\n  }\n\n  /**\n   * Gets the Download Now button text.\n   * @returns {Promise<string>}\n   */\n  async getDownloadNowButtonText(): Promise<string> {\n    return await this.downloadNowButton.textContent() ?? '';\n  }\n\n  // Section Title verification methods\n\n  /**\n   * Checks if Tracking section is displayed.\n   * @returns {Promise<boolean>}\n   */\n  async isTrackingSectionDisplayed(): Promise<boolean> {\n    return await this.trackingSectionTitle.isVisible();\n  }\n\n  /**\n   * Checks if Franking section is displayed.\n   * @returns {Promise<boolean>}\n   */\n  async isFrankungSectionDisplayed(): Promise<boolean> {\n    return await this.frankungSectionTitle.isVisible();\n  }\n\n  /**\n   * Checks if Locations section is displayed.\n   * @returns {Promise<boolean>}\n   */\n  async isLocationsSectionDisplayed(): Promise<boolean> {\n    return await this.locationsSectionTitle.isVisible();\n  }\n\n  /**\n   * Checks if Packstation section is displayed.\n   * @returns {Promise<boolean>}\n   */\n  async isPackstationSectionDisplayed(): Promise<boolean> {\n    return await this.packstationSectionTitle.isVisible();\n  }\n\n  /**\n   * Checks if Contact & More section is displayed.\n   * @returns {Promise<boolean>}\n   */\n  async isContactMoreSectionDisplayed(): Promise<boolean> {\n    return await this.contactMoreSectionTitle.isVisible();\n  }\n\n  // Teaser CTA Buttons\n\n  /**\n   * Clicks \"Receive at the Packstation\" button.\n   */\n  async clickReceiveAtPackstationButton(): Promise<void> {\n    await this.receiveAtPackstationButton.waitFor({ state: 'visible' });\n    await this.receiveAtPackstationButton.click();\n  }\n\n  /**\n   * Clicks \"Frank now\" button.\n   */\n  async clickFrankNowButton(): Promise<void> {\n    await this.frankNowButton.waitFor({ state: 'visible' });\n    await this.frankNowButton.click();\n  }\n\n  /**\n   * Clicks \"Register for free\" button.\n   */\n  async clickRegisterForFreeButton(): Promise<void> {\n    await this.registerForFreeButton.waitFor({ state: 'visible' });\n    await this.registerForFreeButton.click();\n  }\n\n  // FAQ Methods\n\n  /**\n   * Gets the count of FAQ accordion headers.\n   * @returns {Promise<number>}\n   */\n  async getFaqAccordionCount(): Promise<number> {\n    return await this.faqAccordionHeaders.count();\n  }\n\n  /**\n   * Clicks on FAQ accordion header by visible text.\n   * @param questionText\n   */\n  async clickFaqAccordionHeader(questionText: string): Promise<void> {\n    const header = this.faqAccordionHeaders.filter({ hasText: questionText });\n    await header.first().waitFor({ state: 'visible' });\n    await header.first().click();\n  }\n\n  // Footer navigation methods\n\n  /**\n   * Clicks on Private Customers link in footer.\n   */\n  async clickFooterPrivateCustomersLink(): Promise<void> {\n    await this.footerPrivateCustomersLink.waitFor({ state: 'visible' });\n    await this.footerPrivateCustomersLink.click();\n  }\n\n  /**\n   * Clicks on Prices link in footer.\n   */\n  async clickFooterPricesLink(): Promise<void> {\n    await this.footerPricesLink.waitFor({ state: 'visible' });\n    await this.footerPricesLink.click();\n  }\n\n  // Page level methods\n\n  /**\n   * Verifies if the DHL App page is displaying by checking main title and download button presence.\n   * @returns {Promise<boolean>}\n   */\n  async isPageDisplaying(): Promise<boolean> {\n    try {\n      await this.pageMainTitle.waitFor({ state: 'visible', timeout: 5000 });\n      await this.downloadNowButton.waitFor({ state: 'visible', timeout: 5000 });\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  /**\n   * Waits for the essential elements of the page to load.\n   */\n  async waitForPageToLoad(): Promise<void> {\n    await Promise.all([\n      this.pageMainTitle.waitFor({ state: 'visible', timeout: 10000 }),\n      this.downloadNowButton.waitFor({ state: 'visible', timeout: 10000 }),\n      this.headerContainer.waitFor({ state: 'visible', timeout: 10000 })\n    ]);\n  }\n\n  /**\n   * Gets the current page title.\n   * @returns {Promise<string>}\n   */\n  async getPageTitle(): Promise<string> {\n    return this.page.title();\n  }\n\n  /**\n   * Asserts that the current URL matches expected URL.\n   * @param expectedURL\n   */\n  async assertPageURL(expectedURL: string): Promise<void> {\n    await expect(this.page).toHaveURL(expectedURL, { timeout: 5000 });\n  }\n}\n"}